
<html><head></head><body><p><a href="https://hydrabolt.me/prism-media/"><img src="https://hydrabolt.me/assets/prism-media-logo.svg" alt="Logo" style="max-width: 100%;"></a></p>
<p><a href="https://travis-ci.org/hydrabolt/prism-media"><img src="https://travis-ci.org/amishshah/prism-media.svg?branch=master" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://david-dm.org/hydrabolt/prism-media"><img src="https://david-dm.org/amishshah/prism-media/status.svg" alt="dependencies" style="max-width: 100%;"></a>
<a href="https://www.npmjs.com/package/prism-media"><img src="https://img.shields.io/npm/dt/prism-media.svg" alt="npm" style="max-width: 100%;"></a>
<a href="https://www.patreon.com/discordjs"><img src="https://img.shields.io/badge/donate-patreon-F96854.svg" alt="Patreon" style="max-width: 100%;"></a></p>
<p><strong>Intuitive abstractions that make transcoding media easy. Provides behind-the-scenes audio support for
<a href="https://discord.js.org">discord.js</a></strong></p>
<p><code>npm install prism-media</code></p>
<hr>
<h2 id="dependencies">Dependencies</h2>
<hr />
<ul>
<li>Opus<ul>
<li><a href="https://github.com/Rantanen/node-opus"><code>node-opus</code></a> (^0.3.1)</li>
<li><a href="https://github.com/abalabahaha/opusscript"><code>opusscript</code></a> (^0.0.6)</li>
</ul>
</li>
<li>FFmpeg<ul>
<li><a href="http://npmjs.com/ffmpeg-binaries"><code>ffmpeg-static</code></a> (^2.4.0)</li>
<li><a href="http://npmjs.com/ffmpeg-binaries"><code>ffmpeg-binaries</code></a> (^4.0.0)</li>
</ul>
</li>
</ul>
<h2 id="ffmpeg-transform">FFmpeg Transform</h2>
<hr />
<pre><code class="js">const fs = require('fs');
const prism = require('prism-media');

const input = fs.createReadStream('./file.mp3');
const output = fs.createWriteStream('./output.pcm');
const transcoder = new prism.FFmpeg({
  args: [
    '-analyzeduration', '0',
    '-loglevel', '0',
    '-f', 's16le',
    '-ar', '48000',
    '-ac', '2',
  ],
});

input.pipe(transcoder).pipe(output);</code></pre>
<h2 id="oggopus-demuxer">OggOpus Demuxer</h2>
<hr />
<pre><code class="js">const prism = require('prism-media');
const fs = require('fs');
const opus = require('node-opus');

const decoder = new opus.Decoder({ rate: 48000, channels: 2, frameSize: 960 });

fs.createReadStream('./audio.ogg')
  .pipe(new prism.opus.OggDemuxer())
  .pipe(decoder)
  .pipe(fs.createWriteStream('./audio.pcm'))</code></pre>
</body></html>